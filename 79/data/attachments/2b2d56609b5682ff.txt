const jsonData = pm.response.json();

pm.test("Status code is 201", function () {
    pm.response.to.have.status(201);
});

pm.test('Data object should exist', function () {
    pm.expect(jsonData.data).to.exist;
    pm.expect(jsonData.data).to.be.an('object');
});


pm.test('Response should have the expected structure', function () {
    pm.expect(jsonData).to.have.property('status');
    pm.expect(jsonData).to.have.property('message');
    pm.expect(jsonData.data).to.have.property('id');
    pm.expect(jsonData.data).to.have.property('status');
    pm.expect(jsonData.data).to.have.property('amount');
    pm.expect(jsonData.data).to.have.property('frequency');
    pm.expect(jsonData.data).to.have.property('start_date');
    pm.expect(jsonData.data).to.have.property('end_date');
    pm.expect(jsonData.data).to.have.property('customer_id');
    pm.expect(jsonData.data).to.have.property('product_group_id');
    pm.expect(jsonData.data).to.have.property('product_id');
    pm.expect(jsonData.data).to.have.property('meta');
});

