const jsonData = pm.response.json();

pm.test("Response code is 200", function () {
    pm.response.to.have.status(200);
});

pm.test("Data object is valid", () => {
    pm.expect(jsonData.data).to.exist;
    pm.expect(jsonData.data).to.be.an('object');

    const requiredFields = [
        'id', 'reference', 'status', 'amount', 'frequency', 'bank_code', 'account_number', 'customer_id', 'currency',  'product_group_id', 'product_id'
    ];

    requiredFields.forEach(field => {
        pm.expect(jsonData.data).to.have.property(field);
    });



});
